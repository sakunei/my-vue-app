<template>
  <div class="post-container">
    <div v-if="post">
      <h1>{{ post.title }}</h1>
      <div class="post-meta">å‘å¸ƒæ—¶é—´ï¼š{{ post.date }}</div>
      <p class="post-content">{{ post.body }}</p>
    </div>

    <div v-else>
      <h1>ğŸ˜µ æ–‡ç« ä¸å­˜åœ¨</h1>
      <p>ä½ å¥½åƒæ¥åˆ°äº†æ²¡æœ‰çŸ¥è¯†çš„è’åŸ...</p>
    </div>

    <hr />
    <router-link to="/" class="back-btn">â† è¿”å›é¦–é¡µ</router-link>
  </div>
</template>

<script setup>
import { useRoute } from 'vue-router'
import { computed } from 'vue'

// è·å–å½“å‰çš„è·¯ç”±ä¿¡æ¯ï¼ˆåŒ…å«ç½‘å€é‡Œçš„ idï¼‰
const route = useRoute()

// æ¨¡æ‹Ÿçš„æ–‡ç« æ•°æ®ï¼ˆä»¥åè¿™äº›ä¼šä»æœåŠ¡å™¨è·å–ï¼‰
const allPosts = [
  { 
    id: 1, 
    title: 'ç¬¬ä¸€ç¯‡åšå®¢ï¼šHello World', 
    date: '2025-05-20',
    body: 'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ï¼è™½ç„¶ç°åœ¨è¿˜å¾ˆç®€é™‹ï¼Œä½†è¿™æ˜¯æˆ‘è¿ˆå‘å…¨æ ˆå¼€å‘çš„ç¬¬ä¸€æ­¥ã€‚Vue çœŸçš„æŒºæœ‰è¶£çš„ï¼' 
  },
  { 
    id: 2, 
    title: 'Vue å­¦ä¹ ç¬”è®°', 
    date: '2025-05-21',
    body: 'ä»Šå¤©å­¦ä¹ äº†è·¯ç”±ï¼ˆRouterï¼‰çš„ä½¿ç”¨ã€‚åŸæ¥å•é¡µåº”ç”¨ï¼ˆSPAï¼‰è·³è½¬é¡µé¢æ˜¯ä¸éœ€è¦åˆ·æ–°æµè§ˆå™¨çš„ï¼Œä½“éªŒçœŸä¸æ»‘ã€‚' 
  },
  {
    id: 3, 
    title: 'æœ€è¿‘åœ¨çœ‹çš„ç•ªå‰§', 
    date: '2025-05-22',
    body: 'æœ€è¿‘å‘ç°å‡ éƒ¨ä¸é”™çš„å››æœˆæ–°ç•ªï¼Œä½œç”»éå¸¸ç²¾è‰¯ï¼Œæ¨èå¤§å®¶å»çœ‹çœ‹...' 
  }
]

// æ ¸å¿ƒé€»è¾‘ï¼šæ ¹æ®ç½‘å€é‡Œçš„ idï¼Œå»æ•°ç»„é‡Œæ‰¾å¯¹åº”çš„æ–‡ç« 
// computed æ˜¯â€œè®¡ç®—å±æ€§â€ï¼Œå®ƒä¼šæ ¹æ® route.params.id çš„å˜åŒ–è‡ªåŠ¨é‡æ–°è®¡ç®—
const post = computed(() => {
  const id = Number(route.params.id) // ç½‘å€é‡Œçš„ id æ˜¯å­—ç¬¦ä¸²ï¼Œè¦è½¬æˆæ•°å­—
  return allPosts.find(p => p.id === id)
})
</script>

<style scoped>
.post-container {
  max-width: 700px;
  margin: 0 auto; /* å±…ä¸­æ˜¾ç¤º */
  padding: 20px;
  
}
.post-content {
  line-height: 1.8; /* è®©æ–‡å­—é—´è·èˆ’æœä¸€ç‚¹ */
  color: #333;
}
.post-meta {
  color: #888;
  font-size: 0.9em;
  margin-bottom: 20px;
}
.back-btn {
  display: inline-block;
  margin-top: 20px;
  text-decoration: none;
  color: #42b883; /* Vue çš„æ ‡å¿—æ€§ç»¿è‰² */
}
</style>